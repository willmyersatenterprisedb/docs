---
title: 'Installation and upgrades'
originalFilePath: 'src/installation_upgrade.md'
---

## Kubernetes

EDB Postgres Distributed for Kubernetes can be installed using the provided
[Helm chart](https://github.com/EnterpriseDB/edb-postgres-for-kubernetes-charts).

If you don't have [Helm](https://helm.sh) installed yet, please follow the
[official instructions](https://helm.sh/docs/intro/quickstart/) to install it
in your system.

Assuming you have Helm installed, the first step is to add the repository:

```console
helm repo add edb \
  https://enterprisedb.github.io/edb-postgres-for-kubernetes-charts/
```

!!! Important
    You'll need access to the private EDB repository where both the operator
    and operand images are stored. Access requires a valid
    [EDB subscription plan](https://www.enterprisedb.com/products/plans-comparison).
    Please refer to ["Accessing EDB private image registries"](private_registries.md) for further details.

Given that the container images for both the operator and the selected operand
are in EDB's private registry, you need your credentials to enable `helm` to
retrieve them.

Make sure to replace your repo and token in the command below:

```console
helm upgrade --dependency-update \
  --install edb-pg4k-pgd \
  --namespace pgd-operator-system \
  --create-namespace \
  edb/edb-postgres-distributed-for-kubernetes \
  --set image.imageCredentials.username=@@REPOSITORY@@ \
  --set image.imageCredentials.password=@@TOKEN@@
```

In particular:

-   set `@@REPOSITORY@@` to the name of the repository, as explained in ["Which repository to
    choose?"](private_registries.md#which-repository-to-choose)
-   set `@@TOKEN@@` to the repository token for your EDB account, as explained in
    ["How to retrieve the token"](private_registries.md#how-to-retrieve-the-token)

Please remember to create a cert issuer before you start deploying PGD clusters.
The helm chart will already suggest that you do this, but in case you miss it,
you may run, for example:

```sh
kubectl apply -f \
  https://raw.githubusercontent.com/EnterpriseDB/edb-postgres-for-kubernetes-charts/main/hack/samples/issuer-selfsigned.yaml
```

!!! Info
    For further details on the Helm chart, please refer to the
    [Helm chart repo documentation](https://github.com/EnterpriseDB/edb-postgres-for-kubernetes-charts).

With the operators and a self-signed cert issuer deployed, you can start
creating PGD clusters. Please refer to the
["Quickstart"](quickstart.md#part-3-deploy-a-pgd-cluster) for an example.

<!--
### Upgrades

!!! Important
    Please carefully read the [release notes](release_notes.md)
    before performing an upgrade as some versions might require
    extra steps.

TODO
-->

## Red Hat OpenShift

If you are trying to install EDB Postgres Distributed for Kubernetes on Red Hat OpenShift,
please refer to the ["Red Hat OpenShift section"](openshift.md) which contains
information on the certified operator maintained by EDB.